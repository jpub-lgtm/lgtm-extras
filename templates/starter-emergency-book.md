# Emergency Playbook

\_Starter Template

_팀이 비상 대응 매뉴얼을 작성할 수 있도록 이 템플릿을 준비했다. 이 템플릿은 팀원들이 서로 논의하고, 주요 질문들에 대해 합의하며,팀만의 비상 대응 매뉴얼을 만드는 과정을 빠르게 시작하도록 돕는 데 목적이 있다._

_원하는 반큼 변경하면서 사용하도록 한다._

## 비상 대응 매뉴얼 명명하기:

매뉴얼에 대한 명칭을 정한다.

## 의사 결정 트리

이 섹션은 코드 리뷰 프로세스를 무시할 수 있는 상황인지를 판단하는 데 사용한다. 다음과 같은 질문에 대한 답을 제공한다.
**"어떤 조건이 긴급 상황으로 간주되어야 할까?"** 필요에 따라 팀에 맞는 의사 결정 트리Decision Tree나 워크플로를 자유롭게 추가한다.

## 승인 프로세스

비상 상황이라면 누가 비상 대응 절차를 시작할 수 있으며 프로세스를 어떻게 시작하는지 구체적으로 설명한다.
**누가 비상 대응 절차를 시작할 수 있는 권한이 있을까?** (구체적인 사람을 지정한다).

**어떻게 비상 대응 절차를 시작할 수 있을까?**
(정확한 단계를 명시한다. 이 과정에는 반드시 문서화가 포함되며 경우에 따라 도구에서 일련의 승인 절차가 필요하거나 혼합된 형태일 수도 있다).

## 우회 메커니즘(관련 작업)

실제 우회 메커니즘을 구체적으로 설명하며, 비상 상황에 따라 일시적으로 허용되는 작업 방식이나 접근 권한 등을 정의한다. 여기서는 팀이 정해놓은 코드 리뷰 프로세스를 우회하는 경우를 다룬다.

- **한 명의 승인자 허용**: 일반적으로는 두 명 이상의 승인이 필요하지만 비상 상황에서는 한 명의 승인을 통해 리뷰를 신속히 진행할 수 있다.
- **승인없는 병합**: 권장되지 않지만 이 옵션을 포함시키려면 충분한 문서화와 사후 커뮤니케이션 작업을 반드시 정의해야 한다.
- **PR의 셀프 승인 허용**: 이 옵션은 정당화 절차가 반드시 필요하다. 예를 들면 자기 승인 후 작성자가 사유를 입력하는 단계를 추가하거나 팀 전체 또는 기술 리드/매니저에게 자동 알림이 전송되어 해당 사실이 공유되도록 해야 한다.
- **매니저 또는 기타 이해관계자의 PR 승인 허용**: 다른 선택지가 없거나 개발 인원이 매우 적고 반드시 배포가 필요한 상황에서는 매니저나 신뢰할 수 있는 이해관계자가 PR 승인자 역할을 수행할 수 있다. 이 때도 정당화 절차는 마련되어야 하며 해당 승인 권한을 요청한 이유를 명확히 기록해야 한다.
- **기타**: 옵션이 모두 적절하지 않다면 직접 우회 메커니즘을 정의한다.

**어떤 관련 작업이 수행되어야 할까?**(구체적인 단계를 명시한다. 일시적으로 권한을 부여하거나 임시 관리자 계정 생성, 도구/설정 등을 임시로 재구성하는 등의 가능성도 고려한다). **해당 작업이 유효한 시간 범위와 누가 작업을 수행하는지에 대해서도 반드시 명시해야 한다.**

## 다음 단계

우회 메커니즘과 관련 작업이 끝난 뒤에는 다음 단계를 진행한다. 다음 단계는 문서화, 커뮤니케이션, 사후 분석이다.

### 문서화

비상 대응 절차를 시작한 사람이 직접 우회 작업을 수행할 수도 있지만 항상 그런 것은 아니다. 일반적으로는 비상 절차를 시작한 사람과 실제 관련 작업을 진행하는 사람 또는 팀이 다를 수 있다.
문서화를 해야 하는 주요 사항은 다음과 같다.

- **누가** 관여했을까?
- **누가** 우회 메커니즘 작업을 진행했을까?
- **어떤** 작업이 실제로 진행되었을까? (이상적으로는 절차를 따르는 것이 맞지만 비상 상황에서는 항상 계획대로 진행되지는 않는다. 따라서 실제로 어떤 일이 발생하고 어떤 작업이 수행되었는지 반드시 기록해야 한다. 최선의 경우에는 해당 로그가 정의된 단계와 정확히 일치하는 것이며, 최악의 경우에는 계획에 없는 단계들이 몇 가지 추가된 것일 수 있다.)
- **어떤** 임시 접근 권한 또는 제어 권한이 부여되었을까?
- **어떤** 도구나 계정이 영향을 받았을까?
- **언제(어디서)** 작업이 진행되었을까?
- 비상 절차에 정당성을 부여하는 부분은 **무엇**인가?(이 항목은 앞서 논의한대로 문서에 대한 링크가 반드시 포함되어야 한다. 만약 링크가 없다면 매뉴얼의 오남용으로 간주할 수 있다.)

이 항목은 공식적인 **비상 절차 실행 기록(Emergency Procedure Execution Record, EPER)**으로 간주해야 한다.

### 커뮤니케이션

다음으로는 실제로 일어난 일에 대해 커뮤니케이션을 하는 것이다. 커뮤니케이션 방식은 조직에 따라 포멀한 방식과 캐주얼한 방식으로 나눌 수 있다.
보안, 컴플라이언스 팀과 확인하고 별도의 공식 보고서가 필요한지 확인한다. 이때 EPER을 유용하게 사용할 수 있다. 여기 기록된 정보는 보고서에서 핵심 자료가 된다.

커뮤니케이션에 대한 예시는 다음과 같다.

- 운영 장애 기록 및 긴급 우회 승인 기록을 사내 긴급 대응 채널에 공유한다.
- 장애 리포트를 영향을 받은 모든 팀에게 전송한다.
- 장애 해결 알림을 영향을 받은 고객에게 전송한다.

### 사후 분석

사후 분석은 매우 중요하다. 비상 대응 직후 대응 절차가 얼마나 잘 동작했는지 평가하고 개선이 필요한 부분이나 변경이 필요한 사항을 확인하는 것은 큰 도움이 된다.

**팀이 언제 사후 분석을 수행해야 하는지, 사후 분석을 진행할 때 어떤 질문에 답할지 명시한다.**
