# TWA

# 팀 워킹 어그리먼트 [코드 리뷰]

_이 스타터 템플릿은 Looks Good To Me를 통해 제공된다._

_이 템플릿은 팀이 함께 논의하고 협력하여 작성할 수 있도록 구성된 출발점으로 볼 수 있다. 일부 항목은 미리 예시로 채워져 있으며, 팀의 상황에 맞게 자유롭게 추가와 수정 또는 삭제할 수 있다. 다른 항목들은 비워져 있거나 간단한 문구만 포함되어 있으며 팀원들과 함께 논의하여 내용을 채워 넣도록 한다._

_참고: 이 문서는 필요에 따라 얼마든지 수정될 수 있다._

## 팀의 코드 리뷰 목표

우리 팀이 코드 리뷰 프로세스에서 우선 순위로 삼는 목표는 {버그 발견 | 코드베이스 안정성과 유지보수성 | 지식 전달과 공유 | 멘토링 | 기록 및 문서화}이다.

코드 리뷰 프로세스를 통해 이루고자 하는 것

? 코드 리뷰는 항상 협력적이고 존중하며 건설적인 분위기 속에서 이루어져야 한다. 개발자가 아닌 코드에 집중하고 친절함을 잃지 않는다.

## 팀이 사용하는 도구/플랫폼과 워크플로

코드 리뷰를 원활하게 진행하기 위해 {선택한 도구/플랫폼}을 사용하기로 한다. 이 도구를 선택한 이유는……

### 워크플로

기본적인 코드 리뷰 워크플로는 다음과 같다. {워크플로 다이어그램 추가}

- *워크플로의 세부 단계**

1.시작 지점

2.리뷰 요청 단계

3.리뷰 메커니즘

4.피드백 사이클

5.승인 조건

6.종료 지점

### 작성자의 책임

- **자신의 첫 번째 리뷰어가 된다.**: 리뷰어가 어떤 질문을 할지 미리 예상하고 먼저 답변을 준비한다. 코드 변경사항은 충분히 테스트되어야 하며 일관된 포맷을 따르고 팀의 코딩 스타일 가이드라인을 준수한다.
- **PR을 리뷰하기 쉽게 만든다.**: 명확하게 정리된 PR을 제출한다. 간결한 제목과 변경 사항에 대한 명확한 설명, 관련 링크, 레이블 등 맥락을 더해줄 수 있는 정보를 포함한다. PR 자체는 짧고 작으며 관련성 있는 내용으로 구성되어야 한다. 이상적인 PR은 변경 파일 수가 20개 미만, 라인은 500 이하가 좋다.
- **코드를 자신과 동일시하지 않는다.**: 자존심은 잠시 내려 놓는다.
- **리뷰어나 자신이 아닌 피드백에 집중한다.**: 리뷰어의 피드백은 열린 마음으로 대응하고 이슈 관련 피드백은 24시간 이내 처리하도록 노력한다.

### 리뷰어의 책임

- ** 자존심은 잠시 내려 놓는다.**
- ** 개발자가 아닌 코드에 집중한다.**
- ** 건설적인 피드백을 위해 노력한다.**: 간단하거나 명확한 피드백은 코멘트를 사용하며, 객관적이고 구체적이며 결과 중심적인 표현을 사용한다. 복잡하거나 규모가 큰 피드백은 코멘트보다는 직접 작성자와 소통하는 것이 좋다.
- ** 부여받은 권한을 남용하지 않는다.**: 리뷰는 가능하면 24시간 이내 완료하거나 최대한 신속하게 처리한다. 대안이나 개선점을 제안할 때는 반드시 근거를 함께 제시한다.
- ** 꼼꼼하게 리뷰를 진행한다.**: 승인한 코드에 대한 책임을 진다.

## 가이드라인

이 가이드라인은 팀의 코드 리뷰 프로세스에서 무엇을 어떻게 해야 할지 정의한다. 이 문서는 팀의 리뷰 절차를 일관되게 유지하고 리뷰에 대해 공동으로 합의한 기대치를 서로 공유하고 맞춰나가기 위해 존재한다.

### 리뷰의 중점 사항

코드 리뷰 시 중점적으로 확인해야 할 주요 항목은 다음과 같다(팀에 맞게 항목을 자유롭게 추가/삭제/수정).

- **복잡도**: 코드를 이해하고 흐름을 쉽게 따라갈 수 있나요? 다른 개발자(또는 미래의 자신)가 다시 이 코드를 봤을 때도 이해하기 쉬울까요? 코드를 조금 더 사람 친화적이고 직관적으로 만들 수 있는 여지는 없을까요? 나중에 코드에 변경이 필요할 때도 수정이 쉬울까요? 임시방편으로 짠 코드가 있다면 더 영구적이고 안정적인 방식으로 개선할 필요는 없을까요?
- **일관성**: 변경사항이 프로젝트 내에서 이미 사용 중이며 신뢰할 수 있고 검증된 디자인 패턴이나 관례를 따르고 있나요? 기존의 코드나 라이브러리를 재사용할 수 있는 가능성을 없을까요?
- **컨벤션**: 업계 전반에서 통용되는 규칙을 따르고 있나요? 라이브러리, 프레임워크, 프로그래밍 언어 등의 관례를 준수하고 있나요?
- **크로스 플랫폼 호환성**: 크로스 플랫폼 호환성을 고려하고 있나요? 플랫폼 종속적인 의존성이 포함되어 있진 않나요? 다른 개발자가 특별한 설정 없이도 바로 실행할 수 있나요?
- **문서화**: 문서의 누락이 PR 승인을 막는 요소가 되어야 할까요? 관련 문서 업데이트는 PR 체크리스트 항목으로 포함되어 있나요? 코드 내부의 설명을 위한 주석도 문서화의 일부로 간주할까요?
- **에러 처리**: 에러와 예외 처리에 대한 명확한 가이드라인이 존재하나요? 코드베이스 전반에서 일관되게 구현되고 있나요? 엣지 케이스는 모두 검토되었나요?
- **네이밍**: 팀에 네이밍 컨벤션이 존재한다면 이를 잘 따르고 있나요? 변수, 메서드, 함수, 클래드 등 주요 요소의 이름이 명확하고 이해하기 쉬울까요? 다국어 사용자가 있다면 이 부분도 고려되었을까요? 네이밍에 대해 얼마나 엄격하게 적용할지, 어떤 규칙을 팀 워킹 어그리먼트에 포함할지 고려가 되었나요?
- **리소스 관리**: 메모리, 네트워크, 입출력(I/O) 작업 등 리소스가 적절하게 관리되고 있나요?
- **확장성**: 리팩토링이나 재작성 시에도 큰 영향이 없도록 구조가 잘 되어 있을까요? 조금 다른 시나리오도 유연하게 대처할 수 있을까요?
- **보안**: 자동화 도구로 확인할 수 없는 명백한 보안 취약점이 존재하지는 않을까요? 산업군에서 요구하는 보안 기준을 잘 지키고 있을까요?
- **테스트**: 테스트 누락이 PR 승인을 막는 요소가 되어야 할까요? 단순 코드 커버리지를 높이는 테스트도 인정이 될까요? 테스트를 포함하지 않아도 되는 예외적인 상황은 어떤 경우일까요?

리뷰어는 앞에서 언급된 항목을 우선적으로 확인해야 한다.

## 차단 vs 허용 이슈

다음은 PR 승인 시 반드시 해결되어야 하는 이슈(차단 이슈)와 승인에 문제가 없는 이슈(승인 이슈)를 구분한 리스트이다. 여기 포함되지 않은 이슈는 팀원과 논의를 통해 결정한다.

### 차단 이슈

기능, 보안, 유지보수성에 영향을 주는 문제와 작성자가 반드시 수정해야만 PR이 승인될 수 있는 문제는 차단 이슈에 해당한다.

- **핵심 기능**: PR 설명이나 요구 사항에 명시된 기능을 제대로 수행하지 못하는 코드
- **보안 이슈**: 개인 정보, 민감한 데이터 노출 또는 시스템이 보안상 위협받을 수 있는 코드
- **코드 표준 위반**: 팀, 프로젝트, 스타일 가이드 등 사전에 합의된 규칙을 명백히 위반하는 코드
- **문제가 있는 코드**: 코드 구조가 나쁘거나 가독성이 낮고 안티 패턴이 포함된 코드
- **기능 회귀 코드**: 기존 기능이 동작하지 않게 되거나 의도치 않은 사이드 이펙트를 유발하는 코드
- **성능 이슈**: 코드가 성능 저하를 일으키거나 불필요한 리소스를 과도하게 사용하는 코드
- **테스트 실패**: 변경 사항으로 인해 기존 테스트가 실패하거나 빌드가 실패하는 코드

### 허용 이슈

기능, 보안, 유지보수성에는 영향을 주지 않는 문제들로 PR 승인을 막아서는 안되는 사항이다. 이러한 이슈는 별도의 PR, 간단한 수정 또는 건설적인 피드백을 통해 해결할 수 있다.

- **스타일**: 코드 스타일이 취향과 다름
- **문서 관련 사소한 문제**: 문서의 작은 불일치, 오탈자, 기능과 무관한 사소한 문제점 등
- **선택적 기능의 누락**: 핵심 기능은 구현되어 있으나 언급만 되었던 선택 기능의 누락
- **사소한 리팩토링의 기회**: 기능에 영향을 주지 않는 코드 개선 사항으로 별도 PR에서 다룰 수 있는 수준
- **PR과 관련없는 개선 제안**: 현재 PR과 무관하지만 향후 별도 PR에서 다룰 수 있는 개선점

## 승인 정책

- *누가 PR을 승인**할 수 있으며 병합을 위해서는 **몇 명의 승인**이 필요한지 명시한다.

### 승인자 리스트

메인 리포지토리에 직접 기여하고 해당 리포지토리에 대해 쓰기 권한을 가진 사람은 PR 승인자로 지정될 수 있다.

- *필수** 리뷰어로 지정되면 할당된 PR에 대해 신속하게 리뷰를 진행해야 하는 책임을 가진다.
- *선택** 리뷰어로 지정되면 해당 PR을 학습의 기회로 삼고 코드를 살펴보았다는 간단한 코멘트를 남기는 것도 좋다.

### 승인자의 수

병합을 위해서는 **2**명(또는 이상)의 승인이 필요하며, 작성자는 스스로 PR을 승인할 수 없다.\